# –ü–∞–º—è—Ç–∫–∞: 4 —Å—Ç—É–ø–µ–Ω–∏ –ø–∞—Ä—Å–µ—Ä–∞ Ozon

## üìã –û–±—â–∞—è —Å—Ö–µ–º–∞

```
Stage 1 ‚Üí Stage 2 ‚Üí Stage 3 ‚Üí Stage 4
(–°–±–æ—Ä    (–ü—Ä–æ–≤–µ—Ä–∫–∞  (–ü—Ä–æ–≤–µ—Ä–∫–∞  (–ü–æ–∏—Å–∫
–ø—Ä–æ–¥–∞–≤—Ü–æ–≤) –¥–æ—Å—Ç–∞–≤–∫–∏) —Ç–æ–≤–∞—Ä–æ–≤)  –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤)
```

---

## üîç Stage 1: –°–±–æ—Ä –ø—Ä–æ–¥–∞–≤—Ü–æ–≤

**–°–∫—Ä–∏–ø—Ç:** `collect_sellers_final_v4.sh`

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
–°–æ–±–∏—Ä–∞–µ—Ç URL –º–∞–≥–∞–∑–∏–Ω–æ–≤ (–ø—Ä–æ–¥–∞–≤—Ü–æ–≤) —Å Ozon Global —Å –¥–ª–∏—Ç–µ–ª—å–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–æ–π (>15 –¥–Ω–µ–π).

### –î–≤–µ —Ñ–∞–∑—ã —Ä–∞–±–æ—Ç—ã:

**–§–∞–∑–∞ 1** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è):
- –û—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Ç–∞—Ä—Ç–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–¢–æ–≤–∞—Ä—ã –∏–∑ –ö–∏—Ç–∞—è")
- –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É, –∑–∞–≥—Ä—É–∂–∞—è –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤
- –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ —Å –¥–æ—Å—Ç–∞–≤–∫–æ–π >15 –¥–Ω–µ–π:
  - –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –∫–∞—Ä—Ç–æ—á–∫—É —Ç–æ–≤–∞—Ä–∞
  - –°–æ–±–∏—Ä–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–æ–¥–∞–≤—Ü–∞
  - –ò—â–µ—Ç –∫–Ω–æ–ø–∫—É "–ï—Å—Ç—å –¥–µ—à–µ–≤–ª–µ" / "–ï—Å—Ç—å –±—ã—Å—Ç—Ä–µ–µ"
  - –ö–ª–∏–∫–∞–µ—Ç –Ω–∞ –∫–Ω–æ–ø–∫—É "–ï—â–µ" –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ—Ö –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ (–¥–æ 10 —Ä–∞–∑)
  - –°–æ–±–∏—Ä–∞–µ—Ç –≤—Å–µ—Ö –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ –∏–∑ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞

**–§–∞–∑–∞ 2** (–æ—Å–Ω–æ–≤–Ω–∞—è):
- –ë–µ—Ä–µ—Ç —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ –∏–∑ —Ñ–∞–∑—ã 1 (–∏–ª–∏ –∏–∑ –≤—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞)
- –û–±—Ö–æ–¥–∏—Ç –≤–∏—Ç—Ä–∏–Ω—ã –∫–∞–∂–¥–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞
- –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ –Ω–∞ –≤–∏—Ç—Ä–∏–Ω–µ —Å –æ—Ç–∑—ã–≤–∞–º–∏ >1 –∏ –¥–æ—Å—Ç–∞–≤–∫–æ–π >15 –¥–Ω–µ–π:
  - –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –∫–∞—Ä—Ç–æ—á–∫—É —Ç–æ–≤–∞—Ä–∞
  - –ò—â–µ—Ç –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ "–ï—Å—Ç—å –¥–µ—à–µ–≤–ª–µ" / "–ï—Å—Ç—å –±—ã—Å—Ç—Ä–µ–µ"
  - –°–æ–±–∏—Ä–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–¥–∞–≤—Ü–æ–≤

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
```bash
./collect_sellers_final_v4.sh [MAX_SELLERS] [MAX_MORE_CLICKS] [START_URL] [SKIP_PHASE1] [INPUT_FILE] [MAX_SHOPS]
```

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏:
- ‚úÖ –î–æ—Å—Ç–∞–≤–∫–∞ > 15 –¥–Ω–µ–π –æ—Ç —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã
- ‚úÖ –û—Ç–∑—ã–≤–æ–≤ >= 2 (—Ç–æ–ª—å–∫–æ –¥–ª—è —Ñ–∞–∑—ã 2)

### –í—ã—Ö–æ–¥:
- **–§–∞–π–ª:** `results/sellers_final_v4_YYYYMMDD_HHMMSS.json`
- **–§–æ—Ä–º–∞—Ç:** JSON —Å –º–∞—Å—Å–∏–≤–æ–º URL –º–∞–≥–∞–∑–∏–Ω–æ–≤
- **–î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ `set()`

### –ù–æ–≤—ã–µ —Ñ–∏—á–∏:
- üîÑ –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É (`?sorting=rating`) –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞
- üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –æ—Ç –∫–∞–ø—á–∏ (–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏ 3 –∫–∞–ø—á–∞—Ö –ø–æ–¥—Ä—è–¥)

---

## ‚è∞ Stage 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ä–æ–∫–æ–≤ –¥–æ—Å—Ç–∞–≤–∫–∏

**–°–∫—Ä–∏–ø—Ç:** `check_delivery_times.sh`

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–µ—Ä–≤—ã–µ 12 –∫–∞—Ä—Ç–æ—á–µ–∫ —Ç–æ–≤–∞—Ä–æ–≤ –∫–∞–∂–¥–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞ –∏ —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—é –¥–æ—Å—Ç–∞–≤–∫–∏.

### –ü—Ä–æ—Ü–µ—Å—Å:
1. –ß–∏—Ç–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –º–∞–≥–∞–∑–∏–Ω–æ–≤ –∏–∑ JSON (—Ä–µ–∑—É–ª—å—Ç–∞—Ç Stage 1)
2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞:
   - –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –≤–∏—Ç—Ä–∏–Ω—É –º–∞–≥–∞–∑–∏–Ω–∞
   - –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞—Ä—Ç–æ—á–µ–∫
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–µ—Ä–≤—ã–µ 12 —Ç–æ–≤–∞—Ä–æ–≤:
     - –ü–∞—Ä—Å–∏—Ç –¥–∞—Ç—É –¥–æ—Å—Ç–∞–≤–∫–∏
     - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –¥–æ—Å—Ç–∞–≤–∫–∞ > 15 –¥–Ω–µ–π
     - –°—á–∏—Ç–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏:
- ‚úÖ **–ú–∏–Ω–∏–º—É–º 3 –∫–∞—Ä—Ç–æ—á–∫–∏** —Å –¥–æ—Å—Ç–∞–≤–∫–æ–π > 15 –¥–Ω–µ–π
- ‚úÖ –ò–∑ –ø–µ—Ä–≤—ã—Ö 12 –∫–∞—Ä—Ç–æ—á–µ–∫ –Ω–∞ –≤–∏—Ç—Ä–∏–Ω–µ

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
```bash
./check_delivery_times.sh [INPUT_JSON] [OUTPUT_EXCEL] [MAX_SHOPS]
```

### –í—ã—Ö–æ–¥:
- **–§–∞–π–ª:** `results/delivery_check_results.xlsx`
- **–§–æ—Ä–º–∞—Ç:** Excel —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏:
  - URL –º–∞–≥–∞–∑–∏–Ω–∞
  - –°—Ç–∞—Ç—É—Å (–∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π / –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç)
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤ (–∏–∑ 12)
  - –î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏

### –°—Ç–∞—Ç—É—Å—ã:
- üü¢ **–∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π** - >= 3 —Ç–æ–≤–∞—Ä–æ–≤ —Å –¥–æ—Å—Ç–∞–≤–∫–æ–π >15 –¥–Ω–µ–π
- üî¥ **–Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç** - < 3 —Ç–æ–≤–∞—Ä–æ–≤ —Å –¥–æ—Å—Ç–∞–≤–∫–æ–π >15 –¥–Ω–µ–π

### –ù–æ–≤—ã–µ —Ñ–∏—á–∏:
- üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –æ—Ç –∫–∞–ø—á–∏ (–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏ 3 –∫–∞–ø—á–∞—Ö –ø–æ–¥—Ä—è–¥)

---

## üõçÔ∏è Stage 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤

**–°–∫—Ä–∏–ø—Ç:** `check_products.sh`

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
–î–µ—Ç–∞–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–≤–∞—Ä—ã –∏–∑ "–∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö" –º–∞–≥–∞–∑–∏–Ω–æ–≤ –ø–æ –º–Ω–æ–∂–µ—Å—Ç–≤—É –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤.

### –ü—Ä–æ—Ü–µ—Å—Å:
1. –ß–∏—Ç–∞–µ—Ç –º–∞–≥–∞–∑–∏–Ω—ã —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "–∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π" –∏–∑ Excel (—Ä–µ–∑—É–ª—å—Ç–∞—Ç Stage 2)
2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞:
   - –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –≤–∏—Ç—Ä–∏–Ω—É —Å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É (`?sorting=rating`)
   - –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ 50 –∫–∞—Ä—Ç–æ—á–µ–∫ (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ MAX_PRODUCTS):
     - **–ù–∞ –≤–∏—Ç—Ä–∏–Ω–µ:**
       - –ü–∞—Ä—Å–∏—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ, —Ü–µ–Ω—É, –æ—Ç–∑—ã–≤—ã, –¥–æ—Å—Ç–∞–≤–∫—É
       - –§–∏–ª—å—Ç—Ä—É–µ—Ç –ø–æ –±–∞–∑–æ–≤—ã–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º
     - **–í –∫–∞—Ä—Ç–æ—á–∫–µ —Ç–æ–≤–∞—Ä–∞:**
       - –ü–∞—Ä—Å–∏—Ç —Ä–µ–π—Ç–∏–Ω–≥
       - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–µ–π—Ç–∏–Ω–≥ >= 4.0
       - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ "–ï—Å—Ç—å –¥–µ—à–µ–≤–ª–µ"
       - –ï—Å–ª–∏ –µ—Å—Ç—å - –∏–∑–≤–ª–µ–∫–∞–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é —Ü–µ–Ω—É

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏:

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ (–Ω–∞ –≤–∏—Ç—Ä–∏–Ω–µ):**
- ‚úÖ –û—Ç–∑—ã–≤–æ–≤ >= 1
- ‚úÖ –¶–µ–Ω–∞ > 200 —Ä—É–±–ª–µ–π
- ‚úÖ –î–æ—Å—Ç–∞–≤–∫–∞ > 15 –¥–Ω–µ–π

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ (–≤ –∫–∞—Ä—Ç–æ—á–∫–µ):**
- ‚úÖ –†–µ–π—Ç–∏–Ω–≥ >= 4.0
- ‚úÖ –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–∏ –æ—Ç–∑—ã–≤–∞—Ö <= 10)

**–õ–æ–≥–∏–∫–∞ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞:**
- **–û—Ç–∑—ã–≤–æ–≤ <= 10:** –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û, –∏–Ω–∞—á–µ –ø—Ä–æ–ø—É—Å–∫
- **–û—Ç–∑—ã–≤–æ–≤ > 10:** –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
```bash
./check_products.sh [INPUT_EXCEL] [OUTPUT_EXCEL] [MAX_SHOPS] [MAX_PRODUCTS]
```

### –í—ã—Ö–æ–¥:
- **–§–∞–π–ª:** `results/products_check_results.xlsx`
- **–§–æ—Ä–º–∞—Ç:** Excel —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏:
  - URL –º–∞–≥–∞–∑–∏–Ω–∞
  - URL —Ç–æ–≤–∞—Ä–∞
  - **–ù–∞–∑–≤–∞–Ω–∏–µ** (–ò–°–ü–†–ê–í–õ–ï–ù–û: —Ç–µ–ø–µ—Ä—å –ø–∞—Ä—Å–∏—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ!)
  - –¶–µ–Ω–∞ (—Ä—É–±)
  - –û—Ç–∑—ã–≤–æ–≤
  - –î–æ—Å—Ç–∞–≤–∫–∞
  - **–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ —Ç–æ–≤–∞—Ä–∞** (–∏–∑ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞)
  - –°—Ç–∞—Ç—É—Å (–∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π)
  - –î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- üé® –ó–µ–ª–µ–Ω–∞—è –∑–∞–ª–∏–≤–∫–∞ –¥–ª—è —Å—Ç—Ä–æ–∫ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "–∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π"
- üîÑ –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ —Å –æ—Ç–∑—ã–≤–∞–º–∏
- üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –æ—Ç –∫–∞–ø—á–∏

### –ù–æ–≤—ã–µ —Ñ–∏—á–∏:
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø–∞—Ä—Å–∏–Ω–≥ –Ω–∞–∑–≤–∞–Ω–∏–π —Ç–æ–≤–∞—Ä–æ–≤ (–∏—Å–∫–ª—é—á–∞–µ—Ç "—à—Ç –æ—Å—Ç–∞–ª–æ—Å—å", "–°—Ç–∞–ª–æ –¥–µ—à–µ–≤–ª–µ" –∏ —Ç.–¥.)

---

## üèÜ Stage 4: –ü–æ–∏—Å–∫ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤

**–°–∫—Ä–∏–ø—Ç:** `find_competitors.sh`

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
–ò—â–µ—Ç –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ –∏–∑ Stage 3 —Å –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä–æ–π –¥–æ—Å—Ç–∞–≤–∫–æ–π.

### –ü—Ä–æ—Ü–µ—Å—Å:
1. –ß–∏—Ç–∞–µ—Ç —Ç–æ–≤–∞—Ä—ã –∏–∑ Excel (—Ä–µ–∑—É–ª—å—Ç–∞—Ç Stage 3)
2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞:
   - –§–æ—Ä–º–∏—Ä—É–µ—Ç –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–∞
   - –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–æ–∏—Å–∫ –Ω–∞ Ozon
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–µ—Ä–≤—ã–µ 5 –∫–∞—Ä—Ç–æ—á–µ–∫ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –ø–æ–∏—Å–∫–∞:
     - –ü–∞—Ä—Å–∏—Ç –¥–∞—Ç—É –¥–æ—Å—Ç–∞–≤–∫–∏
     - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –¥–æ—Å—Ç–∞–≤–∫–∞ < 10 –¥–Ω–µ–π
     - –ï—Å–ª–∏ –Ω–∞—à–µ–ª - –ø–æ–º–µ—á–∞–µ—Ç –∫–∞–∫ "–Ω–∞–π–¥–µ–Ω –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç"

### –ö—Ä–∏—Ç–µ—Ä–∏–∏:
- ‚úÖ –î–æ—Å—Ç–∞–≤–∫–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∞ < 10 –¥–Ω–µ–π
- ‚úÖ –¢–æ–≤–∞—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞–π–¥–µ–Ω –≤ –ø–æ–∏—Å–∫–µ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
```bash
./find_competitors.sh [INPUT_EXCEL] [OUTPUT_EXCEL] [MAX_PRODUCTS]
```

### –í—ã—Ö–æ–¥:
- **–§–∞–π–ª:** `results/products_with_competitors.xlsx`
- **–§–æ—Ä–º–∞—Ç:** Excel —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∫–æ–ª–æ–Ω–∫–æ–π:
  - –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç —Å –±—ã—Å—Ç—Ä–æ–π –¥–æ—Å—Ç–∞–≤–∫–æ–π (–¥–∞ / –Ω–µ—Ç)

### –°—Ç–∞—Ç—É—Å—ã:
- üü¢ **–¥–∞** - –Ω–∞–π–¥–µ–Ω –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç —Å –¥–æ—Å—Ç–∞–≤–∫–æ–π < 10 –¥–Ω–µ–π
- üî¥ **–Ω–µ—Ç** - –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ

### –ù–æ–≤—ã–µ —Ñ–∏—á–∏:
- üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –æ—Ç –∫–∞–ø—á–∏
- ‚ö†Ô∏è **–í–ù–ò–ú–ê–ù–ò–ï:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ Stage 3 (—Ç–µ–ø–µ—Ä—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã!)

---

## üîÑ –¢–∏–ø–∏—á–Ω—ã–π workflow

```bash
# 1. –°–±–æ—Ä 500 –ø—Ä–æ–¥–∞–≤—Ü–æ–≤
./collect_sellers_final_v4.sh 500 10

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ –¥–ª—è –≤—Å–µ—Ö –º–∞–≥–∞–∑–∏–Ω–æ–≤
./check_delivery_times.sh results/sellers_final_v4_*.json results/delivery_check.xlsx

# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ (5 –º–∞–≥–∞–∑–∏–Ω–æ–≤, –ø–æ 10 —Ç–æ–≤–∞—Ä–æ–≤)
./check_products.sh results/delivery_check.xlsx results/products_check.xlsx 5 10

# 4. –ü–æ–∏—Å–∫ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ (–¥–ª—è –ø–µ—Ä–≤—ã—Ö 10 —Ç–æ–≤–∞—Ä–æ–≤)
./find_competitors.sh results/products_check.xlsx results/products_with_competitors.xlsx 10
```

---

## üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –æ—Ç –∫–∞–ø—á–∏ (–≤—Å–µ —Å—Ç—É–ø–µ–Ω–∏)

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ URL** –Ω–∞ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞: `captcha`, `blocked`, `access-denied`, `showcaptcha`
2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—Å—Ç–∞** —Å—Ç—Ä–∞–Ω–∏—Ü—ã: "–ü—Ä–æ–≤–µ—Ä–∫–∞", "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ, —á—Ç–æ –≤—ã –Ω–µ —Ä–æ–±–æ—Ç", "CAPTCHA", "–î–æ—Å—Ç—É–ø –æ–≥—Ä–∞–Ω–∏—á–µ–Ω"
3. **–°—á–µ—Ç—á–∏–∫:** –ü—Ä–∏ 3 –∫–∞–ø—á–∞—Ö –ø–æ–¥—Ä—è–¥ ‚Üí –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
4. **–°–±—Ä–æ—Å:** –ï—Å–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –±–µ–∑ –∫–∞–ø—á–∏ ‚Üí —Å—á–µ—Ç—á–∏–∫ –æ–±–Ω—É–ª—è–µ—Ç—Å—è

### –°–æ–æ–±—â–µ–Ω–∏—è:
```
‚ö†Ô∏è  –û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –∫–∞–ø—á–∞ –≤ URL! (1/3)
URL: https://www.ozon.ru/captcha?...
‚è≠Ô∏è  –ü—Ä–æ–ø—É—Å–∫–∞—é –º–∞–≥–∞–∑–∏–Ω –∏–∑-–∑–∞ –∫–∞–ø—á–∏
```

–ü—Ä–∏ 3 –∫–∞–ø—á–∞—Ö –ø–æ–¥—Ä—è–¥:
```
‚ùå –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ 3 –∫–∞–ø—á –ø–æ–¥—Ä—è–¥ - –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é —Å–±–æ—Ä
```

---

## üìä –í—ã—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã

| –°—Ç—É–ø–µ–Ω—å | –§–∞–π–ª | –§–æ—Ä–º–∞—Ç | –°–æ–¥–µ—Ä–∂–∏–º–æ–µ |
|---------|------|--------|------------|
| Stage 1 | `sellers_final_v4_*.json` | JSON | URL –º–∞–≥–∞–∑–∏–Ω–æ–≤ |
| Stage 2 | `delivery_check_results.xlsx` | Excel | –ú–∞–≥–∞–∑–∏–Ω—ã + —Å—Ç–∞—Ç—É—Å –¥–æ—Å—Ç–∞–≤–∫–∏ |
| Stage 3 | `products_check_results.xlsx` | Excel | –¢–æ–≤–∞—Ä—ã —Å –¥–µ—Ç–∞–ª—è–º–∏ |
| Stage 4 | `products_with_competitors.xlsx` | Excel | –¢–æ–≤–∞—Ä—ã + —Å—Ç–∞—Ç—É—Å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ |

---

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

### `collect_sellers_continue.sh`
Wrapper –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è —Å–±–æ—Ä–∞ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ —Å —Ä–∞–Ω–¥–æ–º–Ω–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞:

```bash
./collect_sellers_continue.sh 3000 100 results/sellers_combined_all_3500.json
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
1. –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º
2. –ó–∞–ø—É—Å–∫–∞–µ—Ç Stage 1 —Å –ø—Ä–æ–ø—É—Å–∫–æ–º —Ñ–∞–∑—ã 1 (SKIP_PHASE1=yes)
3. –ù–∞—á–∏–Ω–∞–µ—Ç –æ–±—Ö–æ–¥ –≤–∏—Ç—Ä–∏–Ω —Å —Ä–∞–Ω–¥–æ–º–Ω–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ò–∑–±–µ–≥–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ –ø—É—Ç–∏
- –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö –ø—Ä–æ–¥–∞–≤—Ü–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

### –°–∫–æ—Ä–æ—Å—Ç—å —Å–±–æ—Ä–∞ (Stage 1):
- ~300-500 –ø—Ä–æ–¥–∞–≤—Ü–æ–≤/–º–∞–≥–∞–∑–∏–Ω (–≤ —Å—Ä–µ–¥–Ω–µ–º)
- –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ–≤–∞—Ä–æ–≤ —Å –º–æ–¥–∞–ª—å–Ω—ã–º–∏ –æ–∫–Ω–∞–º–∏
- –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è —Å–Ω–∏–∂–∞–µ—Ç –∏—Ç–æ–≥–æ–≤–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ

### –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:
- **Stage 1:** ~1-2 —á–∞—Å–∞ –Ω–∞ 100 –º–∞–≥–∞–∑–∏–Ω–æ–≤
- **Stage 2:** ~10-20 –º–∏–Ω—É—Ç –Ω–∞ 100 –º–∞–≥–∞–∑–∏–Ω–æ–≤
- **Stage 3:** ~30-60 –º–∏–Ω—É—Ç –Ω–∞ 10 –º–∞–≥–∞–∑–∏–Ω–æ–≤ (–ø–æ 10 —Ç–æ–≤–∞—Ä–æ–≤)
- **Stage 4:** ~10-20 –º–∏–Ω—É—Ç –Ω–∞ 10 —Ç–æ–≤–∞—Ä–æ–≤

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
- –ù–µ –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—É–ø–µ–Ω–µ–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ (Chrome –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞—â–∏—Ç—É –æ—Ç –∫–∞–ø—á–∏ (–≤—Å—Ç—Ä–æ–µ–Ω–∞)
- –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã `/tmp/sellers_*.txt`
- –°–æ—Ö—Ä–∞–Ω—è—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –ø–∞–ø–∫—É `results/`

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-12-14
**–í–µ—Ä—Å–∏—è –ø–∞—Ä—Å–µ—Ä–∞:** v4 —Å –∑–∞—â–∏—Ç–æ–π –æ—Ç –∫–∞–ø—á–∏ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–º –ø–∞—Ä—Å–∏–Ω–≥–æ–º –Ω–∞–∑–≤–∞–Ω–∏–π
